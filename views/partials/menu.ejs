
<!-- Offcanvas Menu -->
<div class="offcanvas offcanvas-end" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
    <div class="offcanvas-header">
        <h5 id="offcanvasRightLabel">Settings</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <% if (userName) { %>
            <p>Welcome, <%= userName %>!</p>
            <form action="/logout" method="POST" style="display: inline;">
                <button type="submit">Log Out</button>
            </form>
            <h3>Your Cart</h3>
            <ul>
                <% cart.forEach(item => { %>
                    <li style="display: flex; align-items: center;">
                        <img src="<%= item.posterUrl %>" alt="<%= item.name %>" style="width: 50px; height: 75px; margin-right: 10px;">
                        <%= item.name %>
                        <form action="/cart/remove" method="POST" style="display: inline; margin-left: 10px;">
                            <input type="hidden" name="movieId" value="<%= item._id %>">
                            <button type="submit" style="background: none; border: none; color: red; cursor: pointer;">&times;</button>
                        </form>
                    </li>
                <% }) %>
            </ul>
            <% if (cart.length > 0) { %>
                <form action="/payment" method="GET" style="margin-top: 10px;">
                    <button type="submit">Proceed to Payment</button>
                </form>
            <% } %>
        <% } else { %>
            <p class="mb-3">Not logged in</p>
            <a href="/signin">sign in</a>
            <a href="/signup">sign up</a>
        <% } %>
    </div>
</div>
